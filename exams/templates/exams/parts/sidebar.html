{% load static %}
<aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen pt-20 transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700" aria-label="Sidebar">
    <div class="h-full px-3 pb-4 overflow-y-auto bg-white dark:bg-gray-800">
       <ul class="space-y-2 font-medium">
          <li>
            <button type="button" class="flex  gap-2 items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700" aria-controls="parent-category-list" data-collapse-toggle="parent-category-list">
               <i class="fa-solid fa-file-lines"></i>
               <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Browse exams</span>

               {% if parent_categories %}
               <span class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300">
                  {{parent_categories| length}}
               </span>
               {% endif %}

               <i class="fa-solid fa-arrow-down"></i>
            </button>
            <ul id="parent-category-list" class="hidden py-2 space-y-2">
               {% for p_cat in parent_categories %}
                  {% if p_cat.is_listed %}
                     <li>
                        <button type="button" data-collapse-toggle="parent-category-{{p_cat.id}}" class="flex gap-2 items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                           {{p_cat.name}}
                           {% if p_cat.children %}
                           <span class="inline-flex items-center justify-center w-3 h-3 p-3 ms-3 text-sm font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-300">
                              {{p_cat.children.all| length}}
                           </span>
                           {% endif %}
                           <i class="fa-solid fa-arrow-down"></i>
                        </button>
                        <ul id="parent-category-{{p_cat.id}}" class="hidden py-2 space-y-2">
                           {% for child_cat in p_cat.children.all %}
                              {% if child_cat.is_listed %}
                                 <li>
                                    <button type="button" class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-12 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                       {{child_cat.name}}
                                    </button>
                                 </li>
                              {% endif %}
                           {% endfor %}
                        </ul>
                     </li>
                  {% endif %}
               {% endfor %}
            </ul>
          </li>
       </ul>
    </div>
 </aside>